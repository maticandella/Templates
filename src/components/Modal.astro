<!-- Botón para abrir el modal -->
<button onclick="openRSVPModal()" class="btn-purple">Confirmar asistencia</button>
  
  <!-- Modal -->
  <div id="rsvp-modal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-50 p-4">
    <div class="bg-white text-gray-800 rounded-xl shadow-2xl w-full max-w-md transform transition-all scale-95 opacity-0 duration-300 ease-out animate-fadeInUp">
      <!-- Cerrar -->
      <span onclick="closeRSVPModal()" class="absolute top-4 right-4 text-gray-500 cursor-pointer text-2xl font-bold">&times;</span>
  
      <!-- Título -->
      <div class="p-6 border-b border-gray-200">
        <h2 class="text-2xl font-bold text-center text-indigo-600">Confirmá tu asistencia</h2>
      </div>
  
      <!-- Formulario -->
      <form onsubmit="submitRSVP(event)" class="p-6 space-y-4">
        <div>
          <label class="block text-sm font-medium text-gray-700">Nombre completo</label>
          <input type="text" name="name" placeholder="Tu nombre" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500" />
        </div>
  
        <div>
          <label class="block text-sm font-medium text-gray-700">Email</label>
          <input type="email" name="email" placeholder="tu@email.com" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500" />
        </div>
  
        <div>
          <label class="block text-sm font-medium text-gray-700">¿Asistirás?</label>
          <div class="mt-2 flex gap-4">
            <label class="inline-flex items-center">
              <input type="radio" name="attending" value="si" required class="form-radio h-5 w-5 text-indigo-600" />
              <span class="ml-2">Sí</span>
            </label>
            <label class="inline-flex items-center">
              <input type="radio" name="attending" value="no" class="form-radio h-5 w-5 text-indigo-600" />
              <span class="ml-2">No</span>
            </label>
          </div>
        </div>
  
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700">Adultos</label>
            <input type="number" name="adults" min="0" value="1" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500" />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700">Niños</label>
            <input type="number" name="children" min="0" value="0" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500" />
          </div>
        </div>
  
        <button type="submit" class="w-full mt-4 py-3 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition duration-300">
          Enviar confirmación
        </button>
      </form>
    </div>
  </div>
  
  <style>
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  
    .animate-fadeInUp {
      animation: fadeInUp 0.4s forwards;
    }
  </style>
  
  <script is:inline>
    function openRSVPModal() {
      const modal = document.getElementById("rsvp-modal");
      if (modal) {
        modal.classList.remove("hidden");
        setTimeout(() => {
          modal.querySelector(".animate-fadeInUp").classList.add("scale-100", "opacity-100");
        }, 10);
      }
    }
  
    function closeRSVPModal() {
      const modal = document.getElementById("rsvp-modal");
      if (modal) {
        const content = modal.querySelector(".animate-fadeInUp");
        content.classList.remove("scale-100", "opacity-100");
        setTimeout(() => {
          modal.classList.add("hidden");
          content.closest("form").reset();
        }, 300);
      }
    }
  
    function submitRSVP(e) {
      e.preventDefault();
  
      if (!(e.target instanceof HTMLFormElement)) return;
  
      const form = e.target;
      const data = new FormData(form);
      const entry = Object.fromEntries(data);
  
      // Guardar en localStorage como ejemplo
      const currentList = JSON.parse(localStorage.getItem("rsvpList") || "[]");
      currentList.push(entry);
      localStorage.setItem("rsvpList", JSON.stringify(currentList));
  
      // Mostrar mensaje de éxito
      alert("Gracias por confirmar tu asistencia 😊");
  
      // Cerrar modal
      closeRSVPModal();
    }
  </script>